/**
 * Translation object for the internationalization (i18n) of the site.
 * Contains all texts for German (de) and English (en).
 * @type {Object.<string, Object.<string, string>>}
 */
const translations = {
  en: {
    "nav.about": "About me",
    "nav.skills": "Skill set",
    "nav.work": "My work",
    "hero.hello": "Hello! I am Raphael",
    "about.title": "Let's work<br/>together",
    "about.iam": "I am",
    "about.text1":
      "Write some information about yourself that is IT related. Why are you passionate about programming? What is your source of inspiration for improving your coding skills? Share a desire to learn new technologies.",
    "about.text2":
      "Describe your approach to problem solving. Do you learn from each challenge to find the most efficient or elegant solution? You can include some key attributes such as analytical thinking, creativity, persistence and collaboration.",
    "about.btn": "Send a message",
    "about.badge.location": "located in<br/>Munich",
    "about.badge.remote": "open to work<br/>remote",
    "about.badge.relocate": "open to<br/>relocate",
    "skills.title": "Skill set",
    "skills.cta": "Get in touch",
    "skills.looking": "Looking for a developer?",
    "skills.talk": "Let's talk!",
    "work.title": "My work",
    "work.subtitle":
      "Explore a selection of my work here - Interact with projects to see my skills in action.",
    "work.join.desc":
      "Task manager inspired by the Kanban system. Create and organize tasks using drag and drop functions, assign users and categories.",
    "work.pollo.desc":
      "A jump, run and throw game based on object-oriented approach. Help Pepe to find coins and tabasco bottles to fight against the crazy hen.",
    "work.bubble.desc":
      "A Slack-Clone (Chat-Application/Instant-Messanging-System) modeling using POUCH.io/CouchDB.",
    "work.pokedex.desc":
      "Based on the PokéAPI a simple library that provides and catalogs pokémon information.",
    "testimonials.title": "Need a teamplayer?",
    "testimonials.subtitle": "Here what my colleagues said about me",
    "testimonials.james.role": "Frontend Developer",
    "testimonials.james.text":
      '"Raphael is a reliable and friendly developer. He was able to solve complex tasks and write clean code. I highly recommend him as a developer."',
    "testimonials.evelyn.role": "Backend Developer",
    "testimonials.evelyn.text":
      '"Raphael is a motivated and enthusiastic developer who brings creative ideas and is always up for new challenges. He is a pleasure to work with. He is focused and fast."',
    "testimonials.noah.role": "Project Manager",
    "testimonials.noah.text":
      '"Raphael has his develop domain - clear communication, with the team members. He is a reliable and friendly person."',
    "contact.title": "Contact",
    "contact.heading": "Got a problem to solve?",
    "contact.text":
      "If you want people to contact you, give them a way. Fill in your information, so they can reach out to the email or phone number provided.",
    "contact.looking":
      'Would you also consider checking my profile on <a href="https://linkedin.com" target="_blank">LinkedIn</a>?',
    "contact.form.name": "Your name",
    "contact.form.email": "Your email",
    "contact.form.message": "Your message",
    "contact.form.privacy":
      'I\'ve read the <a href="#">privacy policy</a> and agree to the processing of my data as outlined.',
    "contact.form.btn": "Say Hello ;)",
    "footer.legal": "Legal Notice",
  },
  de: {
    "nav.about": "Über mich",
    "nav.skills": "Fähigkeiten",
    "nav.work": "Meine Arbeit",
    "hero.hello": "Hallo! Ich bin Raphael",
    "about.title": "Lass uns zusammen arbeiten",
    "about.iam": "Ich bin",
    "about.text1":
      "Schreibe einige Informationen über dich, die IT-bezogen sind. Warum begeistert dich das Programmieren? Was ist deine Inspirationsquelle, um deine Coding-Skills zu verbessern? Teile deinen Wunsch, neue Technologien zu erlernen.",
    "about.text2":
      "Beschreibe deinen Ansatz zur Problemlösung. Lernst du aus jeder Herausforderung, um die effizienteste oder eleganteste Lösung zu finden? Du kannst Schlüsselattribute wie analytisches Denken, Kreativität, Ausdauer und Zusammenarbeit einbeziehen.",
    "about.btn": "Nachricht senden",
    "about.badge.location": "Standort<br/>München",
    "about.badge.remote": "offen für<br/>Remote-Arbeit",
    "about.badge.relocate": "offen für<br/>Umzug",
    "skills.title": "Fähigkeiten",
    "skills.cta": "Kontakt aufnehmen",
    "skills.looking": "Auf der Suche nach einem Entwickler?",
    "skills.talk": "Lass uns reden!",
    "work.title": "Meine Arbeit",
    "work.subtitle":
      "Entdecke hier eine Auswahl meiner Arbeiten – Interagiere mit Projekten, um meine Fähigkeiten in Aktion zu sehen.",
    "work.join.desc":
      "Aufgabenmanager inspiriert vom Kanban-System. Erstelle und organisiere Aufgaben mit Drag-and-Drop-Funktionen, weise Benutzer und Kategorien zu.",
    "work.pollo.desc":
      "Ein Jump-, Run- und Wurfspiel basierend auf einem objektorientierten Ansatz. Hilf Pepe, Münzen und Tabasco-Flaschen zu finden, um gegen das verrückte Huhn zu kämpfen.",
    "work.bubble.desc":
      "Ein Slack-Klon (Chat-Anwendung/Instant-Messaging-System) modelliert mit POUCH.io/CouchDB.",
    "work.pokedex.desc":
      "Basierend auf der PokéAPI eine einfache Bibliothek, die Pokémon-Informationen bereitstellt und katalogisiert.",
    "testimonials.title": "Teamplayer gesucht?",
    "testimonials.subtitle": "Das sagen meine Kollegen über mich",
    "testimonials.james.role": "Frontend-Entwickler",
    "testimonials.james.text":
      '"Raphael ist ein zuverlässiger und freundlicher Entwickler. Er konnte komplexe Aufgaben lösen und sauberen Code schreiben. Ich empfehle ihn sehr als Entwickler."',
    "testimonials.evelyn.role": "Backend-Entwicklerin",
    "testimonials.evelyn.text":
      '"Raphael ist ein motivierter und begeisterungsfähiger Entwickler, der kreative Ideen einbringt und immer für neue Herausforderungen bereit ist. Die Zusammenarbeit mit ihm macht Freude. Er ist fokussiert und schnell."',
    "testimonials.noah.role": "Projektmanager",
    "testimonials.noah.text":
      '"Raphael hat seine Entwickler-Domäne – klare Kommunikation mit den Teammitgliedern. Er ist eine zuverlässige und freundliche Person."',
    "contact.title": "Kontakt",
    "contact.heading": "Ein Problem zu lösen?",
    "contact.text":
      "Wenn du möchtest, dass man dich kontaktiert, gib ihnen einen Weg. Fülle deine Informationen aus, damit sie dich per E-Mail oder Telefonnummer erreichen können.",
    "contact.looking":
      'Würdest du auch einen Blick auf mein Profil auf <a href="https://linkedin.com" target="_blank">LinkedIn</a> werfen?',
    "contact.form.name": "Dein Name",
    "contact.form.email": "Deine E-Mail",
    "contact.form.message": "Deine Nachricht",
    "contact.form.privacy":
      'Ich habe die <a href="#">Datenschutzerklärung</a> gelesen und stimme der Verarbeitung meiner Daten wie beschrieben zu.',
    "contact.form.btn": "Sag Hallo ;)",
    "footer.legal": "Impressum",
  },
};

/**
 * Currently selected language ("en" or "de").
 * @type {string}
 */
let currentLang = "en";

/**
 * Sets the language of the page and updates all i18n texts.
 * @param {string} lang - Language code ("en" or "de").
 */
function setLanguage(lang) {
  currentLang = lang;
  document.documentElement.lang = lang;

  // Translate all elements with data-i18n
  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    }
  });

  // Translate all elements with data-i18n-html
  document.querySelectorAll("[data-i18n-html]").forEach((el) => {
    const key = el.getAttribute("data-i18n-html");
    if (translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    }
  });

  // Translate all placeholders
  document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
    const key = el.getAttribute("data-i18n-placeholder");
    if (translations[lang][key]) {
      el.placeholder = translations[lang][key];
    }
  });

  // Activate the current language in the toggle
  const toggleSpans = document.querySelectorAll(
    ".lang-toggle span:not(.separator)",
  );
  toggleSpans.forEach((span) => {
    span.classList.remove("active");
    if (span.textContent.trim().toLowerCase() === lang) {
      span.classList.add("active");
    }
  });
}

/**
 * Initializes the language toggle and sets event listeners for switching.
 * Runs after DOMContentLoaded.
 */
document.addEventListener("DOMContentLoaded", () => {
  // Find all language toggle elements
  const toggleSpans = document.querySelectorAll(
    ".lang-toggle span:not(.separator)",
  );
  toggleSpans.forEach((span) => {
    span.addEventListener("click", () => {
      const lang = span.textContent.trim().toLowerCase();
      if (lang !== currentLang) {
        setLanguage(lang);
      }
    });
  });
});
